# 私のアプリケーションには構造がありません

## 関係ないこと
レガシーコード改善ガイドを頭から読んでいたのだけれど、どうやらこれはそういうふうに通読するというよりも、その都度自分が抱えている問題に関連する章を読んでいったほうがいいようだ。

C++ や java を対象としているので、複雑な依存関係を持つクラスを如何にしてテストハーネス内でインスタンス生成するか、というのがよく語られている。
しかし、C で書かれたコードはクラスが存在しないし、そういう考えでまず作ってないこともおおい。
ひとつのプロジェクトが巨大なソース、サブルーチンの集合体、データは全てグローバルで宣言されており、ヘッダファイルはひとつに統合されている、というのも珍しくなく、そういうのはどうすれば？ とおもいなら目次を眺めて、この章を読んでみることにした。

そういえば大学の卒論のために渡された fortran のコードが単一ファイル3000行くらいで、サブルーチンとgoto文であっちこっち飛びつつ、グローバル変数をあっちこっちでいじっていた。ひどく苦労したが、ああいう思想でつくられたプログラムはたくさんあるんだろうとおもう。

## アーキテクチャの理解
システムの全体像がない、複雑すぎて把握していない、というのが問題。

システムの全体像を把握する役職としてアーキテクトがいるが、チーム内の少数のアーキテクトのみが全体像を把握して他のプログラマーと理解度に乖離があると、うまくいかない。

重要なのは、チーム内でアーキテクチャへの関心を維持すること

## index
[システムのストーリーを話す](17.1.md)
